
<html>

<head>
<title>火山软件开发平台</title>
<meta http-equiv="expires" content="0">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="keywords" content="递归软件,火山开发平台,火山软件开发平台火山游戏开发平台，安卓开发" />
<meta name="description" content="递归软件,火山开发平台,火山软件开发平台,火山游戏开发平台，安卓开发" />
<link rel="shortcut icon" type="image/x-icon" href="images/voldev.ico" media="screen" />
<link href="../scripts/style.css" rel="stylesheet" type="text/css" />
<script language="JavaScript" type="text/javascript" src="../scripts/jquery-1.10.2.min.js"></script>
<script language="JavaScript" type="text/javascript" src="../scripts/common.js"></script>
</head>
<body>

<div class="xuanfu">
<ul class="menu">
  <li><h4>对话框操作</h4></li>
	<ol>
    <li><blockquote><a href="#zbgz">0.准备工作</a></blockquote></li>     
    
		<li style="background-color:#E0F0F0;"><h6  class="tree_expand" onClick="StartupPage_ShowItem(this,'new3')" >一.多选列表对话框类<span>(可收缩)</span></h6></li>
		<ol id="new3">
			<li><blockquote><a href="#duocjbxs">1.创建并显示</a></blockquote></li>
            <li><blockquote><a href="#duotbx">2.图标（写）</a></blockquote></li>
             <li><blockquote><a href="#duobtx">3.标题（写）</a></blockquote></li>
            <li><blockquote><a href="#duolbxbqrxz">4.列表项被确认选择（事件）</a></blockquote></li>
            
            
		</ol>
	
        
 							
	</ol>
</ul>
</div>


<p align="left">
<h2>多选列表对话框类操作实例讲解</h2>
<p><b>作者：创世魂</b></p>
<p align="left">&nbsp;</p>
<a name="zbgz"></a>    
     
<font style="font-size: 12pt; font-weight:700">● 帮助说明</font><br/>
<br/>
<blockquote>  
	<p align="left"><font color="#F70408">注意：本类位于<strong>“安卓基本类”</strong>模块中，必须添加此模块才能使用。</font></p>
</blockquote>

<p align="left">&nbsp;</p>

<font style="font-size: 12pt; font-weight:700">● 准备一个界面</font><br/>
<p align="left">&nbsp;</p>

<p align="left">界面如下图：</p>
<blockquote>
	<p align="left">打开窗口设计器，放两个<b>“按钮”</b>，右侧属性文本分别起名<b>“按钮1”</b>和<b>“按钮2”</b>。</p>
	<p align="left"><img border="0" src="dhk_images/2.png" ></p>
    <p align="left">保存布局后，右键<b>“按钮”</b>，添加<b>“按钮被单击事件接收方法”</b>，添加完毕后<b>如下图</b>所示。</p>
    <p align="left"><img border="0" src="dhk_images/02.png" ></p>
</blockquote>


<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p><a name="duocjbxs"></a>
<h2>一、多选列表对话框类</h2>

<p align="left">&nbsp;</p>

<font style="font-size: 12pt; font-weight:700">● 创建并显示</font><br/>
<br/>
<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
    <p align="left">可以看到本方法有<b>“四个”</b>参数，返回类本身。</p>
    <p align="left">参数1：填写当前要显示的窗口名称，通常为<b>“本对象”</b>即可。</p>
    <p align="left">参数2：要加入的文本型数组数据。</p>
    <p align="left">参数3：对应的参数2的逻辑数组。</p>
    <p align="left">参数4自然就是对话框的标题，有默认值可以不写。</p>
	<p align="left"><img border="0" src="dhk_images/42.png" ></p>
</blockquote>


<p align="left">&nbsp;</p>
<p align="left">代码编写如下图：</p>
<blockquote>
	<p align="left">我们依然是定义成员变量<b>“对选列表对话框类”</b>，注意不要忘记设置<b>“参考”</b>。</p>
    <p align="left">随后判断<b>“按钮1”</b>被点击，定义一个文本数组变量，一个逻辑数组变量。</p>
    <p align="left">注意：逻辑数组成员数，不能超过文本数组成员数。</p>
    <p align="left">最后利用本方法，创建并显示对话框类即可。</p>
	<p align="left"><img border="0" src="dhk_images/43.png" ></p>
   
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图：</p>
<blockquote>
<p align="left">点击<b>“按钮1”</b>后，就可以看到最终的弹出的<b>“多选列表框”</b>，其中的<b>“项目1”</b>和<b>“项目3”</b>也按照定义的<b>“逻辑数组”</b>执行了选中。</p>
  </p>
	
    <p align="left"><img border="0" src="dhk_images/44.png" >
    </p>
</blockquote>



<p align="left">&nbsp;</p>
<a name="duotbx"></a>
<font style="font-size: 12pt; font-weight:700">● 图标（写）</font><br/>
<a name="duobtx"></a>
<font style="font-size: 12pt; font-weight:700">● 标题（写）</font><br/>

<p align="left">&nbsp;</p>
<p align="left">代码编写如下图：</p>
<blockquote>
	<p align="left">以上两个都是<b>“写属性”</b>，定义方法也很简单。</p>
    <p align="left">直接在原代码的基础上，增加一个类型为<b>“可绘制资源”</b>的<b>“图标”</b>变量，并且点击黄圈内的按钮导入一张图片。</p>
    <p align="left">然后将创建的多选列表赋值给最开始定义的成员变量<b>“多选列表对话框”</b>，随后直接给<b>“标题”</b>和<b>“图标”</b>进行赋值即可。</p>
	<p align="left"><img border="0" src="dhk_images/50.png" ></p>
   
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图：</p>
<blockquote>
    <p align="left">本方法同样会产生安卓系统不兼容的情况，安卓5.0下并没有显示图标。</p>
    <p align="left">安卓8.0正常显示图标，其它安卓版本因设备有限无法测试。</p>
	<p align="left"><img border="0" src="dhk_images/51.png" >
    
    <img border="0" src="dhk_images/52.png" >
    </p>
</blockquote>

<p align="left">&nbsp;</p>
<a name="duolbxbqrxz"></a>
<font style="font-size: 12pt; font-weight:700">● 列表项被确认选择（事件）</font><br/>
<br/>
<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
<p align="left">点击对话框内的<b>“确认”</b>按钮会发送本事件。</p>
    <p align="left">返回的<b>“逻辑数组”</b>等于列表项的<b>“数量”</b>。</p>
	<p align="left"><img border="0" src="dhk_images/53.png" ></p>
</blockquote>


<p align="left">&nbsp;</p>
<p align="left">代码编写（1）：</p>
<blockquote>
	<p align="left">首先第一步，需要进行挂接事件，挂接的对象自然是定义的成员变量<b>“多选列表对话框”</b>。</p>
	<p align="left"><img border="0" src="dhk_images/55.png" ></p>
   
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">代码编写（2）：</p>
<blockquote>
	<p align="left">第二步：右键<b>“多选列表对话框类”</b>，添加事件接收方法。</p>
	<p align="left"><img border="0" src="dhk_images/54.png" ></p>
   
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">代码编写（3）：</p>
<blockquote>
	<p align="left">添加事件后，指定来源对象，定义三个局部变量。</p>
    <p align="left">利用循环语句，循环选中的<b>“数组索引”</b>。</p>
    <p align="left">在这里我将<b>“逻辑真”</b>变成了<b>“文本真”</b>，方便查看最终效果。</p>
    <p align="left">将<b>“当前索引”</b>转换成文本，加上<b>“项目状态”</b>变量，然后反复赋值给<b>“最终显示”</b>变量。</p>
    <p align="left">最后<b>“提示信息框”</b>看效果。</p>
	<p align="left"><img border="0" src="dhk_images/54a.png" ></p>
   
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果（GIF）：</p>
<blockquote>
	<p align="left">选择的项目索引从0开始，可以看到<b>“提示信息框”</b>内的结果，和选择的一一对应。</p>
	<p align="left"><img border="0" src="dhk_images/56.gif" ></p>
   
</blockquote>
<p align="left">&nbsp;</p>

</body>
</html>
