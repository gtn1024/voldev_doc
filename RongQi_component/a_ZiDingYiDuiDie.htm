
<html>

<head>
<title>火山软件开发平台</title>
<meta http-equiv="expires" content="0">
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="keywords" content="递归软件,火山开发平台,火山软件开发平台火山游戏开发平台，安卓开发" />
<meta name="description" content="递归软件,火山开发平台,火山软件开发平台,火山游戏开发平台，安卓开发" />
<link rel="shortcut icon" type="image/x-icon" href="images/voldev.ico" media="screen" />
<link href="../scripts/style.css" rel="stylesheet" type="text/css" />
<script language="JavaScript" type="text/javascript" src="../scripts/jquery-1.10.2.min.js"></script>
<script language="JavaScript" type="text/javascript" src="../scripts/common.js"></script>
</head>
<body>
<div class="xuanfu">
<ul class="menu">
	<ol>
		
		<li style="background-color:#E0F0F0;"><h6  class="tree_expand" onClick="StartupPage_ShowItem(this,'new10')" >自定义堆叠器<span>(可收缩)</span></h6></li>
		<ol id="new10">
			<li><blockquote><a href="#">1.准备工作</a></blockquote></li>
			<li><blockquote><a href="#tianjia">2.项目添加</a></blockquote></li>
			<li><blockquote><a href="#beidanji">3.项目被单击</a></blockquote></li>
			<li><blockquote><a href="#danji">4.项目内组件单击</a></blockquote></li>
			<li><blockquote><a href="#shuju">5.取项目数据</a></blockquote></li>
			<li><blockquote><a href="#shanchu">6.删除项目</a></blockquote></li>
			<li><blockquote><a href="#shuliang">7.取项目数</a></blockquote></li>
			<li><blockquote><a href="#shangxiashitu">8.到上一视图</a></blockquote></li>
			<li><blockquote><a href="#shangxiashitu">9.到下一视图</a></blockquote></li>
			<li><blockquote><a href="#xiugai">9.项目修改</a></blockquote></li>
		</ol>
		
		
	</ol>
</ul>
</div>		


<p align="left">
<h2>自定义堆叠器实例讲解</h2> 
<p><strong>作者：创世魂</strong></p>

	<p align="left">&nbsp;</p>
			<font style="font-size: 12pt; font-weight:700">● 辅助说明</font><br/>
     <blockquote>
	<p align="left"><font color="#F70408">注意：本类位于<strong>“安卓基本类”</strong>模块中，必须添加此模块才能使用。</font></p>
	</blockquote>	
	
<p align="left">&nbsp;</p>
<h2>一、自定义堆叠器</h2>
<p align="left">&nbsp;</p>
	<a name="xfuffw"></a>
<font style="font-size: 12pt; font-weight:700">● 准备工作</font>	
<p align="left">&nbsp;</p>
<p align="left">界面准备：</p>	
<blockquote>
	<p align="left">打开启动类<b>“界面设计器”</b>，设计如下界面。</p>
	<p align="left">组件依次为<b>“按钮1”</b>，<b>“自定义堆叠器1”</b>。</p>
	<p align="left">设置自定义堆叠器1<b>“高/宽度”</b>为<b>“匹配父组件高/宽度”</b>。</p>
	<p align="left"><img src="duidie_zdy_images/248.png" width="741" height="612"  border="0" ></p>
</blockquote>	

	
	<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="tianjia"></a>
<font style="font-size: 12pt; font-weight:700">●项目添加</font>
	<p align="left">&nbsp;</p>
<p align="left"><b>“适配器(读)”</b>帮助文档：</p>
<blockquote>
	<p align="left">本读属性返回的是<b>“对象数据适配器”</b>。</p>
	<p align="left">通过此适配器可进行项目数据添加和删除等操作。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/249.png" ></p>
    <p align="left">&nbsp;</p>
	<p align="left">点开<b>“对象数据适配器”</b>类，可以看到此类中就有插入项目和修改项目等项目操作方法。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/250.png" ></p>
	<p align="left">&nbsp;</p>
<p align="left"><b>“取对象项目视图(事件)”</b>帮助文档：</p>
<blockquote>
	<p align="left">本事件的主要作用，可以用来对自定义堆叠器的单个项目进行布局和数据填充工作。</p>
	<p align="left">并且每次添加项目，删除项目等所有项目操作都会触发本事件。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/251.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写（1）： </p>
<blockquote>
	<p align="left">1、定义一个类名为<b>“堆叠器数据”</b>的公开类。</p>
	<p align="left">2、在当前类下增加三个成员变量，类型分别为<b>“可绘制资源”</b>和<b>“文本型”</b>，将其全部公开。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/252.png" ></p>
</blockquote>
	
	<p align="left">&nbsp;</p>
<p align="left">代码编写（2）： </p>
<blockquote>
	<p align="left">1、在<b>“按钮1”</b>被点击下，定义<b>“堆叠器数据”</b>和<b>“可绘制资源”</b>变量。</p>
	<p align="left">2、分别设置<b>“堆叠器数据1”</b>的三种数据。</p>
	<p align="left">3、最后调用<b>“自定义堆叠器1.适配器.插入项目()”</b>，插入当前<b>“堆叠器数据1”</b>。 </p>
	<p align="left"><img border="0" src="duidie_zdy_images/254.png" ></p>
</blockquote>
	
	<p align="left">&nbsp;</p>
<p align="left">代码编写（3）： </p>
<blockquote>
	<p align="left">以下代码共分两个部分：</p>
	<p align="left">（1）项目布局：</p>
    <blockquote>
        <p align="left">1、定义四个变量，类型分别为<b>“线性布局器”</b>，<b>“图片框”</b>和两个<b>“文本框”</b>。</p>
        <p align="left">2、将布局器<b>“布局方向”</b>设置为<b>“纵向”</b>，分别添加这三个子组件。</p>
        <p align="left">3、调用<strong>“项目信息.所返回组件=布局器1”</strong>就可以返回单个项目的布局。</p>
    </blockquote>

	<p align="left">（2）项目内容设置：</p>
    <blockquote>
        <p align="left">1、定义类型为<strong>“堆叠器数据”</strong>的变量，通过<strong>“(堆叠器数据)项目信息.项目数据对象”</strong>取出数据并赋值。</p>
        <p align="left">2、最后将堆叠器数据的内容分别赋值给组件显示。</p>
    </blockquote>
	<p align="left"><img border="0" src="duidie_zdy_images/253.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图（GIF）： </p>
<blockquote>
	<p align="left">点击<b>“按钮1”</b>后，可看到当前组件出现了<b>“图片框”</b>和<b>“两个文本框”</b>的布局。</p>
	<p align="left">对应数据也和代码插入的一致。</p>
	<p align="left">再次点击会继续添加项目。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/255.gif" >
    </p>
</blockquote>
	
<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="beidanji"></a>
<font style="font-size: 12pt; font-weight:700">●项目被单击</font>
	<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
	<p align="left">当自定义堆叠器项目被单击时，将触发本事件。</p>
	<p align="left">本事件只有一个参数，返回被点击的项目索引。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/1.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写（1）： </p>
<blockquote>
	<p align="left">在<strong>“通知_被创建”</strong>虚拟方法下循环添加三个数据到堆叠器中。</p>
	<p align="left">注意：循环添加数据时<strong>“堆叠器数据”</strong>变量务必保证在循环内部。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/2.png" ></p>
</blockquote>
	<p align="left">&nbsp;</p>
<p align="left">代码编写（2）： </p>
<blockquote>
	<p align="left">添加“自定义堆叠器_项目被单击”事件，判断来源后就可以取出被点击的项目索引。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/3.png" ></p>
</blockquote>
<p align="left">&nbsp;</p>
<p align="left">运行效果如下图： </p>
<blockquote>
	<p align="left">当第一个项目被点击会弹出“项目0单击”。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/4.png" >
    </p>
</blockquote>
	<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="danji"></a>
<font style="font-size: 12pt; font-weight:700">●项目内组件单击</font>
	<p align="left">&nbsp;</p>
<p align="left">代码编写（1）：</p>
<blockquote>
	<p align="left">想要实现项目内组件被单击，需要对组件进行<strong>“挂接事件()”</strong>操作。</p>
	<p align="left">如下图所示，对<strong>“图片框1”</strong>进行挂接事件，随后需要开启<strong>支持单击</strong>属性。</p>
	<p align="left">挂接事件方法的参数2填写<strong>“项目信息.项目索引位置”</strong>,可以将项目索引传递给图片框单击事件。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/5.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写（2）： </p>
<blockquote>
	<p align="left">添加<strong>“图片框_被单击”</strong>事件，通过标记值可取出项目索引。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/6.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图： </p>
<blockquote>
	<p align="left">当点击项目图片就会弹出信息框，显示项目索引。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/7.png" >
    </p>
</blockquote>
    
    <p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="shuju"></a>
<font style="font-size: 12pt; font-weight:700">●取项目数据</font>
	<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
	<p align="left">想要取出项目数据，需要使用<strong>“取项目()”</strong>方法，此方法是<strong>“适配器”</strong>属性的方法。</p>
	<p align="left">本方法只有一个参数，填写要取的项目索引即可，务必保证索引存在。</p>
	<p align="left">返回值是<strong>“模板类型1”</strong>，此类型的实际数据类型就是定义的<strong>“堆叠器数据”</strong>类。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/8.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写如下图： </p>
<blockquote>
	<p align="left">当按钮被点击后，调用<strong>“自定义堆叠器1.适配器.取项目()”</strong>就可以取出指定索引的项目数据。</p>
	<p align="left">注意这里在使用时需要强制转换成<strong>“堆叠器数据”</strong>后才能进行赋值操作。</p>
	<p align="left">最后就可以通过<strong>“堆叠器”</strong>变量，取出想要的数据。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/9.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图： </p>
<blockquote>
	<p align="left">当按钮被点击后，就可以取出项目0的文本数据。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/10.png" >
    </p>
</blockquote>
    
    <p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="shanchu"></a>
<font style="font-size: 12pt; font-weight:700">●删除项目</font>
	<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
	<p align="left">本方法同样是继承了适配器的方法，调用本方法还可进行批量删除。</p>
	<p align="left">参数1：填写要删除的项目索引。</p>
	<p align="left">参数2：填写要删除的数量，默认为1.</p>
	<p align="left">参数3：是否立刻刷新，默认真。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/11.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写如下图： </p>
<blockquote>
	<p align="left">调用本方法删除项目2.</p>
	<p align="left"><img border="0" src="duidie_zdy_images/12.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图（GIF）： </p>
<blockquote>
	<p align="left">最终可看到项目2被删除。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/13.gif" >
    </p>
</blockquote>
    
    
    <p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="shuliang"></a>
<font style="font-size: 12pt; font-weight:700">●取项目数</font>
	<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
	<p align="left">本方法用于取出项目数量，返回类型是整数。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/14.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写如下图： </p>
<blockquote>
	<p align="left">调用本方法可取出当前堆叠器的项目数量。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/15.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图： </p>
<blockquote>
	<p align="left">按钮被点击后，项目数量将会显示在信息框中。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/16.png" >
    </p>
</blockquote>
    
    
    <p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="shangxiashitu"></a>
<font style="font-size: 12pt; font-weight:700">●到上一视图</font>
<font style="font-size: 12pt; font-weight:700">●到下一视图</font>
	<p align="left">&nbsp;</p>
	<p align="left">以上两个方法用于项目视图手动切换，是堆叠器组件自身的方法。</p>

	<p align="left">&nbsp;</p>
<p align="left">代码编写如下图： </p>
<blockquote>
	<p align="left">“按钮1”被点击后切换到下一个视图。</p>
	<p align="left">“按钮2”被点击后切换到上一个视图。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/17.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图（GIF）： </p>
<blockquote>
	<p align="left"><img border="0" src="duidie_zdy_images/18.gif" >
    </p>
</blockquote>
    
     
    <p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>	
<a name="xiugai"></a>
<font style="font-size: 12pt; font-weight:700">●项目修改</font>
	<p align="left">&nbsp;</p>
<p align="left">帮助文档如下图：</p>
<blockquote>
	<p align="left">修改项目需要调用“刷新显示()”方法，本方法是堆叠器自带方法。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/19.png" ></p>
</blockquote>

	<p align="left">&nbsp;</p>
<p align="left">代码编写如下图： </p>
<blockquote>
	<p align="left">1、首先调用“取项目()”取出项目数据。 </p>
	<p align="left">2、取出数据后可进行修改内容操作。 </p>
	<p align="left">3、最后务必调用“刷新显示()”方法刷新修改操作。 </p>
	<p align="left"><img border="0" src="duidie_zdy_images/20.png" ></p>
</blockquote>

<p align="left">&nbsp;</p>
<p align="left">运行效果如下图（GIF）： </p>
<blockquote>
	<p align="left">最后项目0的文本将被修改。</p>
	<p align="left"><img border="0" src="duidie_zdy_images/21.gif" >
    </p>
</blockquote> 
    
    
<p align="left">&nbsp;</p>
	<p align="left">&nbsp;</p>
<p align="left">&nbsp;</p>
</body>
</html>
